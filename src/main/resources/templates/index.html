<!DOCTYPE html>
<html style="height:100%" lang="en" >

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>CoTube Home Page</title>

    <!-- TODO:
            Trending comics, popular series and top 5
            Timeline -->

    <link rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
    <link rel="stylesheet" href="./css/style.css">
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="./js/js.cookie.js"></script>
    <!--<script src="js/timeline.js"></script>-->
    <script src="./js/index.js"></script>
    <script src="./js/jumpFunction.js"></script>
    <link rel="stylesheet" href="css/style1.css">


</head>

<body>
    <div id = "wrap">
        <div class="regbar" style="z-index: 999;">
            <div class = "regbar-left" style="width:30%">
                    <img src = "./img/CoTube-logo.png" style = "margin-top:0px;" width = "125px" height = "50px" onclick="gohome()">
            </div>
            <div class = "regbar-mid" align="center">
                <input type="text" class="search_bar" name="search_word" id="search_word" size="35" placeholder="Input for searching...">
                <select class="selectType" id="search_by" name="search_by">
                    <option value="keyword">By Keyword</option>
                    <option value="author">By Author</option>
                </select>
                <input type="image" src = "./img/search.png" style = "margin-right:3px; width:35px; height:35px" onclick="searchResult()"/>
            </div>

            <div class = "regbar-right" style = "margin-top:7px;">
                <input type="image" src = "./img/create.png" id="create" style = "margin-right:3px;" width = "35px" height = "35px" onclick="goCreate();">
                <input type="image" src = "./img/home.png" id="home" style = "margin-right:3px;" width = "35px" height = "35px" onclick="gohome();">
                <input type="image" src = "./img/message.png" id="message" style = "margin-right:3px;"  height = "35px" onclick="goMessage();">
                <input type="image" src = "./img/profile.png" id="profile" style = "margin-right:3px;"  height = "35px" onclick="goProfile();">
                <input type="image" src = "./img/setting.png" id="setting" style = "margin-right:3px;"  height = "35px" onclick="gotosetting();">
                <input type="image" src = "./img/sign-in.png" id="login" style = "margin-right:3px;" width = "35px" height = "35px" onclick="login();">
                <input type="image" src = "./img/sign-out.png" id="signout" style = "margin-right:3px;" width = "35px" height = "35px" onclick="logout();">
            </div>
        </div>
    </div>
    <br>
    <span style = "font-size:25px;margin-left:5%;" onclick="document.location.href='viewComicsByTitle.html';">View Comics by Title</span>
    <span style = "font-size:25px;margin-left:23px;"> | </span>
    <span style = "font-size:25px;margin-left:23px;" onclick="document.location.href='viewGameComicsByKeyword.html';">View Game Comics</span>
    <div style="width:90%;height:200px;margin:auto;margin-top:10px;padding:8px;background:transparent url('../img/mountain.jpg') no-repeat">
        <p style="margin-left:20px;margin-top:20px;font-size:20px;color:black;">Want to create your own comics or play comic games?</p>
        <button type ="button" id="bannerlogin"class="kwbtn3 kwbtn4" style="margin-left:20px;margin-top:50px;" onclick="document.location.href='login.html';">Log in Now!</button>
        <button type ="button" id="bannercreate"class="kwbtn3 kwbtn4" style="margin-left:20px;margin-top:50px;display:none;" onclick="document.location.href='createHome.html';">Create Now!</button>
    </div>
    <div id = "trendingcomics" class = "trendingComicsTable" style="margin-left:5%;margin-top:10px;width:57vw;float:left;">
        <h2 style="margin-left:0px;">Trending Comics</h2>
        <div>
            <table class="trendingComicsTable" id="trending_result_table" style="font-size: 23px; width: 100%;">
            </table>
        </div>
    <!--
    <div style="margin-left:5%;margin-top:10px;width:57vw;float:left;">
        <table style="border-right-style:groove;border-right-width: 2px;border-right-color: white;">
            <tr colspan="3">
                <td colspan="3">
                    <h2 style="margin-left:0px;">Trending Comics</h2>
                </td>
            </tr>
            <tr>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;" onclick="document.location.href='viewComics.html';">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
            </tr>
            <tr>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;" onclick="document.location.href='viewComics.html';">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
            </tr>
        </table>
        -->
    </div>

    <div style="margin-left:5%;margin-top:40px;width:57vw;float:left;">
        <table style="border-right-style:groove;border-right-width: 2px;border-right-color: white;">
            <tr colspan="3">
                <td colspan="3">
                    <h2 style="margin-left:0px;">Popular Series Comics</h2>
                </td>
            </tr>
            <tr>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;" onclick="document.location.href='viewSeries.html';">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
            </tr>
            <tr>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;" onclick="document.location.href='viewSeries.html';">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
                <td style = "width:19vw;padding-top:15px;">
                    <img src="./img/t/1.jpg" style = "width:15vw;">
                    <br>
                    <span style = "font-size:20px;">Comic Title</span>
                    <br>
                </td>
            </tr>
        </table>
    </div>






    <div style="/*width:23vw;float:left;*/margin-top:10px;">
        <table align="center" style="border-collapse:separate; border-spacing:0px 20px;">
            <th style="text-align:center;" colspan="3">
                <h2>Top 5 Comics</h2>
            </th>
            <tr>
                <td>
                    <span style="display:inline;font-size:35px;">1st</span>
                </td>
                <td>
                    <img src="./img/gold-medal.png" width="50px" height="50px" style="display:inline;">
                </td>
                <td>
                    <img src="./img/t/1.jpg" height="63px" width="112px" style="display:inline;">
                    <span style="display:inline;font-size:25px;">Comic Name</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span style="display:inline;font-size:35px;">2nd</span>
                </td>
                <td>
                    <img src="./img/silver-medal.png" width="50px" height="50px" style="display:inline;">
                </td>
                <td>
                    <img src="./img/t/1.jpg" height="63px" width="112px" style="display:inline;">
                    <span style="display:inline;font-size:25px;">Comic Name</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span style="display:inline;font-size:35px;">3rd</span>
                </td>
                <td>
                    <img src="./img/bronze-medal.png" width="50px" height="50px" style="display:inline;">
                </td>
                <td>
                    <img src="./img/t/1.jpg" height="63px" width="112px" style="display:inline;">
                    <span style="display:inline;font-size:25px;">Comic Name</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span style="display:inline;font-size:35px;">4th</span>
                </td>
                <td>
                </td>
                <td>
                    <img src="./img/t/1.jpg" height="63px" width="112px" style="display:inline;">
                    <span style="display:inline;font-size:25px;">Comic Name</span>
                </td>
            </tr>
            <tr>
                <td>
                    <span style="display:inline;font-size:35px;">5th</span>
                </td>
                <td>
                </td>
                <td>
                    <img src="./img/t/1.jpg" height="63px" width="112px" style="display:inline;">
                    <span style="display:inline;font-size:25px;">Comic Name</span>
                </td>
            </tr>
        </table>
    </div>

    <div style="clear: both;">
        <section class="timeline" id="timelinesec" style = "visibility: hidden;">
            <div class="container">
                <div class="timeline-item">
        
                    <div class="timeline-img"></div>
        
                    <div class="timeline-content js--fadeInLeft">
                        <div class="date">1 min ago</div>
                        <img src="./img/t/4.jpg" height="100px" style="display:inline;">
                        <h2 style="color:black;display:inline;">Comic Title</h2>
                        <table style="margin-top:10px;">
                            <tr>
                                <td><h4 style="color:black;">Author:</h4></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">crazyArtist2048</a></td>
                            </tr>
                        </table>
                        <blockquote>This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!</blockquote>
                    </div>
                </div>   
                
                <div class="timeline-item">
        
                    <div class="timeline-img"></div>
        
                    <div class="timeline-content js--fadeInRight">
                        <div class="date">54 min ago</div>
                        <img src="./img/t/4.jpg" height="100px" style="display:inline;">
                        <h2 style="color:black;display:inline;">Comic Title</h2>
                        <table style="margin-top:10px;border-collapse:separate; border-spacing:0px 10px;">
                            <tr>
                                <td><h4 style="color:black;">Author:</h4></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">dragonMayCry</a></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">godMayLaugh</a></td>>
                            </tr>
                            <tr>
                                <td></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">neilTheDevil</a></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">danteTheHunter</a></td>
                            </tr>
                        </table>
                        <blockquote>This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!</blockquote>
                    </div>
                </div>  
                <div class="timeline-item">
        
                    <div class="timeline-img"></div>
        
                    <div class="timeline-content js--fadeInLeft">
                        <div class="date">3 hours ago</div>
                        <img src="./img/t/4.jpg" height="100px" style="display:inline;">
                        <h2 style="color:black;display:inline;">Comic Title</h2>
                        <table style="margin-top:10px;">
                            <tr>
                                <td><h4 style="color:black;">Author:</h4></td>
                                <td><a href="profile.html" style="display:inline;margin-left:5px;">gasGasGas</a></td>
                            </tr>
                        </table>
                        <blockquote>This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!This is a description!</blockquote>
                    </div>
                </div>  
            </div>
            </section>
        </div>


        <script>
            $(function(){
                var x = getTrending()
                console.log(x);
                var tbody = document.getElementById("trending_comics_table");
                for (i = 0; i < 6; x +=3){
                    var tr = document.createElement('TR');
                    tr.style.width = "100%";
                    tbody.appendChild(tr);

                    // i = 0, first one
                    var td1 = document.createElement('TD');
                    td1.style.width = "33.3%";
                    td1.style.paddingBottom = "20px";
                    tr.appendChild(td1);
                    var divBig1 = document.createElement('DIV');
                    divBig1.addEventListener('click', function() {
                        trendingcomic(x.comics[i].comic_id, x.regular_comics[i].series_id);
                    });
                   // divBig1.classList.add("profileCard");
                    //divBig1.style.width = "93.93%";
                    //divBig1.style.display = "flex";
                    td1.appendChild(divBig1);
                    // img photo here
                    var divImg1 = document.createElement('DIV');
                    divImg1.style.width = "38.2%";
                    divImg1.style.paddingTop = "38.2%";
                    divImg1.style.position = "relative";
                    var img1 = document.createElement('img');
                    img1.src = x.regular_comics[i].thumbnail_path;
                    img1.style.width = "100%";
                    img1.style.height = "100%";
                    img1.style.position = "absolute";
                    img1.style.top = "0";
                    divImg1.appendChild(img1);
                    // other info here
                    //var divinfo1 = document.createElement('div');
                    //divinfo1.style.width = "61.8%";
                    //divinfo1.style.marginLeft = "6.8%"
                    //var span_author1 = document.createElement('span');
                    //var t = document.createTextNode(obj.account[i]);
                    //span_author1.appendChild(t);
                    //var span_follower1 = document.createElement('span');
                    //var t = document.createTextNode(obj.followers[i]);
                    //span_follower1.appendChild(t);
                    //divinfo1.appendChild(span_author1);
                    //divinfo1.appendChild(document.createElement('br'));
                    //divinfo1.appendChild(span_follower1);
                    //divinfo1.appendChild(document.createElement('span').appendChild(document.createTextNode(" follower")));
                    // add to divBig1
                    divBig1.appendChild(divImg1);
                    //divBig1.appendChild(divinfo1);

                    // i = 1, second one
                    var td2 = document.createElement('TD');
                    td2.style.width = "33.3%";
                    td2.style.paddingBottom = "20px";
                    tr.appendChild(td2);
                    if(i+1<obj.account.length){
                        var divBig2 = document.createElement('DIV');
                        divBig2.addEventListener('click', function(){
                            trendingcomic(x.comics[i+1].comic_id, x.regular_comics[i+1].series_id);
                        });
                        //divBig2.classList.add("profileCard");
                        //divBig2.style.width = "93.93%";
                        //divBig2.style.display = "flex";
                        divBig2.style.marginLeft = "3.03%";
                        td2.appendChild(divBig2);
                        // img photo here
                        var divImg2 = document.createElement('DIV');
                        divImg2.style.width = "38.2%";
                        divImg2.style.paddingTop = "38.2%";
                        divImg2.style.position = "relative";
                        var img2 = document.createElement('img');
                        img2.src = x.regular_comics[i+1].thumbnail_path;
                        console.log("img src = " + img2.src);
                        img2.style.width = "100%";
                        img2.style.height = "100%";
                        img2.style.position = "absolute";
                        img2.style.top = "0";
                        divImg2.appendChild(img2);
                        // other info here
                        <!--
                        var divinfo2 = document.createElement('div');
                        divinfo2.style.width = "61.8%";
                        divinfo2.style.marginLeft = "6.8%"
                        var span_author2 = document.createElement('span');
                        var t = document.createTextNode(obj.account[i+1]);
                        span_author2.appendChild(t);
                        var span_follower2 = document.createElement('span');
                        var t = document.createTextNode(obj.followers[i+1]);
                        span_follower2.appendChild(t);
                        divinfo2.appendChild(span_author2);
                        divinfo2.appendChild(document.createElement('br'));
                        divinfo2.appendChild(span_follower2);
                        divinfo2.appendChild(document.createElement('span').appendChild(document.createTextNode(" follower")));
                        -->
                        // add to divBig2
                        divBig2.appendChild(divImg2);
                        //divBig2.appendChild(divinfo2);
                    }

                    // i = 2, first one
                    var td3 = document.createElement('TD');
                    td3.style.width = "33.3%";
                    td3.style.paddingBottom = "20px";
                    tr.appendChild(td3);

                    if(i+2<obj.account.length){
                        var divBig3 = document.createElement('DIV');
                        divBig3.addEventListener('click', function(){
                            trendingcomic(x.comics[i+2].comic_id, x.regular_comics[i+2].series_id);
                        });
                        //divBig3.classList.add("profileCard");
                        //divBig3.style.width = "93.93%";
                        //divBig3.style.display = "flex";
                        divBig3.style.cssFloat = "right";
                        td3.appendChild(divBig3);
                        // img photo here
                        var divImg3 = document.createElement('DIV');
                        divImg3.style.width = "38.2%";
                        divImg3.style.paddingTop = "38.2%";
                        divImg3.style.position = "relative";
                        var img3 = document.createElement('img');
                        img3.src = x.regular_comics[i+2].thumbnail_path;
                        console.log("img src = " + img3.src);
                        img3.style.width = "100%";
                        img3.style.height = "100%";
                        img3.style.position = "absolute";
                        img3.style.top = "0";
                        divImg3.appendChild(img3);
                        // other info here
                       /* var divinfo3 = document.createElement('div');
                        divinfo3.style.width = "61.8%";
                        divinfo3.style.marginLeft = "6.8%"
                        var span_author3 = document.createElement('span');
                        var t = document.createTextNode(obj.account[i+2]);
                        span_author3.appendChild(t);
                        var span_follower3 = document.createElement('span');
                        var t = document.createTextNode(obj.followers[i+2]);
                        span_follower3.appendChild(t);
                        divinfo3.appendChild(span_author3);
                        divinfo3.appendChild(document.createElement('br'));
                        divinfo3.appendChild(span_follower3);
                        divinfo3.appendChild(document.createElement('span').appendChild(document.createTextNode(" follower")));*/
                        // add to divBig3
                        divBig3.appendChild(divImg3);
                        //divBig3.appendChild(divinfo3);
                    }
                }
            })

        </script>



        <script>
        if($.cookie('role')=="user"){
            document.getElementById("login").style.display = "none";
            document.getElementById("bannerlogin").style.display = "none";
            document.getElementById("bannercreate").style.display = "initial";
            document.getElementById("timelinesec").style.visibility = "initial";
        }else{
            document.getElementById("create").style.display = "none";
            document.getElementById("signout").style.display = "none";
            document.getElementById("message").style.display = "none";
            document.getElementById("profile").style.display = "none";
            document.getElementById("setting").style.display = "none";
        }


    </script>
</body>

</html>
