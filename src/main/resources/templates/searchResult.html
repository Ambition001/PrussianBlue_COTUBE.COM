<!DOCTYPE html>
<html style="height:100%" lang="en" >

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Search Result Page</title>
    <!-- TODO:
            By author   -- Profile picture and followers
                        -- Onclick to go to the specific profile page(store the author's username to cookie)
            By keyword  -- Default regular comics, can select series comics
                        -- Sort by views, likes and name -->

    <link rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'>
    <link rel="stylesheet" href="./css/style.css">
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script src="./js/js.cookie.js"></script>
    <script src="./js/searchFunctions.js"></script>


</head>

<body>
<div id = "wrap">
    <div class="regbar">
        <div class = "regbar-left" style="width:30%">
            <img src = "./img/CoTube-logo.png" style = "margin-top:0px;" width = "125px" height = "50px" onclick="gohome()">
        </div>
        <div class = "regbar-mid" align="center">
            <input type="text" class="search_bar" name="search_word" id="search_word" size="35" placeholder="Input for searching...">
            <select class="selectType" id="search_by" name="search_by">
                <option value="keyword">By Keyword</option>
                <option value="author">By Author</option>
            </select>
            <input type="image" src = "./img/search.png" style = "margin-right:3px; width:35px; height:35px" onclick="searchResult()"/>
        </div>




        <div class = "regbar-right" style = "margin-top:7px;">
            <input type="image" src = "./img/create.png" id="create" style = "margin-right:3px;" width = "35px" height = "35px" onclick="goCreate();">
            <input type="image" src = "./img/home.png" id="home" style = "margin-right:3px;" width = "35px" height = "35px" onclick="gohome();">
            <input type="image" src = "./img/message.png" id="message" style = "margin-right:3px;"  height = "35px" onclick="goMessage();">
            <input type="image" src = "./img/profile.png" id="profile" style = "margin-right:3px;"  height = "35px" onclick="goProfile();">
            <input type="image" src = "./img/setting.png" id="setting" style = "margin-right:3px;"  height = "35px" onclick="gotosetting();">
            <input type="image" src = "./img/sign-in.png" id="login" style = "margin-right:3px;" width = "35px" height = "35px" onclick="login();">
            <input type="image" src = "./img/sign-out.png" id="signout" style = "margin-right:3px;" width = "35px" height = "35px" onclick="logout();">
        </div>
    </div>
</div>

<div class="searchResult" style="margin-left: 5%; margin-right: 5%">

    <div style="height: 100%; text-align:left; padding-top:10px">

        <div style="float: left;height:100%; font-size:35px;">
            <span>Results of </span>
            <span id="rst" style="color:lightskyblue"></span>
            <span>:</span>
        </div>

        <div id="keywordsortby" style="display:none; float:right; height:100%; font-size:20px; padding-top: 15px">
                <select class="sortBy" id="sort_by" name="sort_by">
                    <option value="view">View Number</option>
                    <option value="like">Like Number</option>
                    <option value="nameA">Name: A to Z</option>
                </select>
        </div>

        <div id="series_regular" style="display:none; float:right; height:100%; font-size:20px; padding-top: 15px">
            <select class="sortBy" id="series_regular_view" name="sort_by">
                <option value="regular">View Regular Comic</option>
                <option value="series">View Series Comic</option>
            </select>
        </div>

    </div>
    <br><br><hr style="margin-top: 40px">

    <div id="authorresult" class="searchResultTable" style="display: none;">
        <div>
            <table class="searchResultTable" id="author_result_table" style="font-size: 23px; width: 100%;">
                <tr style="width: 100%;" >
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex">
                            <div style="width: 38.2%">
                            <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%;">
                            <span>author 1</span><br>
                            <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex;margin-left: 3.03%">
                            <div style="width: 38.2%">
                                <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%;">
                                <span>author 1</span><br>
                                <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex;float: right;">
                            <div style="width: 38.2%">
                                <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%">
                                <span>author 1</span><br>
                                <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr style="width: 100%;" >
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex">
                            <div style="width: 38.2%">
                                <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%">
                                <span>author 1</span><br>
                                <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex;margin-left: 3.03%">
                            <div style="width: 38.2%">
                                <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%">
                                <span>author 1</span><br>
                                <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.3%; padding-bottom: 20px">
                        <div class="profileCard" style="width: 93.93%;display: flex;float: right;">
                            <div style="width: 38.2%">
                                <img src="./img/profile.png" style="width: 100%; height: auto;">
                            </div>
                            <div style="width: 61.8%;margin-left: 6.8%">
                                <span>author 1</span><br>
                                <span>follower: xxxxxx</span>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <div class="pageTurn" style="text-align: center; font-size: 15px">
            <hr style="margin-bottom: 0px">
            <ul class="pagination">
                <li>&laquo;</li>
                <li class="active">1</li>
                <li>2</li>
                <li>3</li>
                <li>4</li>
                <li>&raquo;</li>
            </ul>
            <hr style="margin-top: 0px">

        </div>
    </div>


    <div id="keywordresult" class="searchResultTable" style="display: none;">
        <div>
        <table class="searchResultTable" id="search_result_table" style="font-size: 16px">
            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>

            <tr>
                <td><img src="./img/t/1.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName1</p>
                    <p>AuthorName1</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/2.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName2</p>
                    <p>AuthorName2</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
                <td><img src="./img/t/3.jpg"></td>
                <td style="padding-right: 20px; padding-bottom: 40px">
                    <p>ImgName3</p>
                    <p>AuthorName3</p>
                    <p>View:xxx Like:xxx Comment:xxx</p>
                </td>
            </tr>
        </table>
        </div>

        <div class="pageTurn" style="text-align: center; font-size: 15px">
            <hr style="margin-bottom: 0px">
            <ul class="pagination">
                <li>&laquo;</li>
                <li class="active">1</li>
                <li>2</li>
                <li>3</li>
                <li>4</li>
                <li>&raquo;</li>
            </ul>
            <hr style="margin-top: 0px">

        </div>


    </div>


<script>
    var kw = $.cookie('search_word');
    if(kw!=""){
        document.getElementById("rst").innerText = "\"" + kw + "\"";
    }
    var by = $.cookie('search_by');
    console.log(by);
    if(by=="author"){
        document.getElementById("authorresult").style.display = "block";
        document.getElementById("series_regular").style.display = "none";
        document.getElementById("keywordsortby").style.display = "none";
        document.getElementById("keywordresult").style.display = "none";
    }
    if(by=="keyword"){
        document.getElementById("keywordsortby").style.display = "block";
        document.getElementById("series_regular").style.display = "block";
        document.getElementById("keywordresult").style.display = "block";
        document.getElementById("authorresult").style.display = "none";
    }
</script>



</div>




<script>
    if($.cookie('role')=="user"){
        document.getElementById("login").style.display = "none";
    }else{
        document.getElementById("create").style.display = "none";
        document.getElementById("signout").style.display = "none";
        document.getElementById("message").style.display = "none";
        document.getElementById("profile").style.display = "none";
        document.getElementById("setting").style.display = "none";
    }





</script>
</body>

</html>
